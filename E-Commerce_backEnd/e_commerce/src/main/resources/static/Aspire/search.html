<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Aspire  | E-shoping</title>
    <!-- Mobile Specific Metas
 ================================================== -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Construction Html5 Template">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="author" content="Themefisher">
    <meta name="generator" content="Themefisher Constra HTML Template v1.0">

    <!-- theme meta -->
    <meta name="theme-name" content="aviato" />

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="images/favicon.png" />

    <!-- Themefisher Icon font -->
    <link rel="stylesheet" href="plugins/themefisher-font/style.css">
    <!-- bootstrap.min css -->
    <link rel="stylesheet" href="plugins/bootstrap/css/bootstrap.min.css">

    <!-- Animate css -->
    <link rel="stylesheet" href="plugins/animate/animate.css">
    <!-- Slick Carousel -->
    <link rel="stylesheet" href="plugins/slick/slick.css">
    <link rel="stylesheet" href="plugins/slick/slick-theme.css">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/style.css">
    <style>



                tr {
                    list-style-type: none;
                    padding: 0;
                    margin: 0;


                }

                td {
                    padding: 40px 100px;
                    background-color: #f2f2f2;
                    border-bottom: 1px solid #ddd;

                }


                td:hover {
                    background-color: #e0e0e0;
                }

        #product-image1{
  width: 200px; /* تحديد العرض بـ 200 بيكسل */
  height: auto; /* تحديد الارتفاع بشكل تلقائي للحفاظ على تناسب الصورة */
}


    </style>

</head>
<body>
<!-- Start Top Header Bar -->
<section class="top-header">
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-xs-12 col-sm-4">
            </div>
            <div class="col-md-4 col-xs-12 col-sm-4">
                <!-- Site Logo -->
                <div class="logo text-center">
                    <a href="index.html">
                        <!-- replace logo here -->
                        <svg width="135px" height="29px" viewBox="0 0 155 29" version="1.1" xmlns="http://www.w3.org/2000/svg"
                             xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-size="40"
                               font-family="AustinBold, Austin" font-weight="bold">
                                <g id="Group" transform="translate(-108.000000, -297.000000)" fill="#000000">
                                    <text id="AVIATO">
                                        <tspan x="108.94" y="325">ASPIRE</tspan>
                                    </text>
                                </g>
                            </g>
                        </svg>
                    </a>
                </div>
            </div>
            <div class="col-md-4 col-xs-12 col-sm-4">
                <!-- Cart -->
                <ul class="top-menu text-right list-inline">
                    <li class="dropdown cart-nav dropdown-slide">
                        <a href="#!" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"><i
                                class="tf-ion-android-cart"></i>Cart</a>
                        <div class="dropdown-menu cart-dropdown">
                            <!-- Cart Item -->
                            <div class="media">
                                <a class="pull-left" href="#!">
                                    <img class="media-object" src="images/shop/cart/cart-1.jpg" alt="image" />
                                </a>
                                <div class="media-body">
                                    <h4 class="media-heading"><a href="#!">Ladies Bag</a></h4>
                                    <div class="cart-price">
                                        <span>1 x</span>
                                        <span>1250.00</span>
                                    </div>
                                    <h5><strong>$1200</strong></h5>
                                </div>
                                <a href="#!" class="remove"><i class="tf-ion-close"></i></a>
                            </div><!-- / Cart Item -->
                            <!-- Cart Item -->
                            <div class="media">
                                <a class="pull-left" href="#!">
                                    <img class="media-object" src="images/shop/cart/cart-2.jpg" alt="image" />
                                </a>
                                <div class="media-body">
                                    <h4 class="media-heading"><a href="#!">Ladies Bag</a></h4>
                                    <div class="cart-price">
                                        <span>1 x</span>
                                        <span>1250.00</span>
                                    </div>
                                    <h5><strong>$1200</strong></h5>
                                </div>
                                <a href="#!" class="remove"><i class="tf-ion-close"></i></a>
                            </div><!-- / Cart Item -->

                            <div class="cart-summary">
                                <span>Total</span>
                                <span class="total-price">$1799.00</span>
                            </div>
                            <ul class="text-center cart-buttons">
                                <li><a href="cart.html" class="btn btn-small">View Cart</a></li>
                                <li><a href="checkout.html" class="btn btn-small btn-solid-border">Checkout</a></li>
                            </ul>
                        </div>

                    </li><!-- / Cart -->

                    <!-- Search -->
                    <li class="dropdown search dropdown-slide">
                        <a href="search.html"
                           target="_blank"

                        ><i
                                class="tf-ion-ios-search-strong" ></i> Search</a>

                    </li><!-- / Search -->

                    <!-- Languages -->
                    <li class="commonSelect">
                        <select class="form-control">
                            <option>EN</option>
                            <option>DE</option>
                            <option>FR</option>
                            <option>ES</option>
                        </select>
                    </li><!-- / Languages -->

                </ul><!-- / .nav .navbar-nav .navbar-right -->
            </div>
        </div>
    </div>
</section><!-- End Top Header Bar -->


<form class="text-left clearfix" id="search" action="#" >
<div class="container"
     style=" max-width: 600px;
    margin: 0 auto;
    text-align: center;
    padding-top: 50px;"
>
    <h1>Search Products</h1>
    <input type="text" id="searchInput" placeholder="Enter product name" style=" padding: 10px;
    width: 60%;
    margin-bottom: 10px;">
    <button  style=" padding: 10px 20px;
    background-color: #007bff;
    color: #fff;
    border: none;
    cursor: pointer;" onclick="reloadPage()"  type="submit" form="search" id="searchButton" >Search</button>
    <div id="results" style=" margin-top: 20px;
    text-align: left;"></div>
</div>

</form>





<h2 style='text-align: center; margin :40; ' id="myParagraph"></h2>




<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script>













    var clickCount = 0;

function reloadPage() {
    clickCount++;

    if (clickCount === 2) {
        location.reload(true);




    } else {

         $("#search").submit(function (event) {
                 event.preventDefault(); //to prevent the default behaviour of submit button (test it to make sure)

                  productName = document.getElementById('searchInput').value

                 var url = "http://localhost:8090/market/products/search?q="+productName
                 $.ajax({
                     url: url,
                     type: "GET",
                     datatype: "json",


                     success: function (data) {

                         console.log(data)

                         if(data.data.length==0){



                        var paragraphElement = document.getElementById("myParagraph");
                        paragraphElement.innerText = "THERE IS NO SUCH PRODUCT !";




                         }

                         else{

                         for (i = 0; i < data.data.length; i++) {





                               $("#search").append("<tr><td>"+ data.data[i].id +"</td><td>"
                                                             +data.data[i].productDescription+"</td><td><img src='images/shop/products/"+data.data[i].productImage+"' alt='' id='product-image1'></td><td><a href='product-single.html?pID="+data.data[i].id+ "'target='_balnk'>"
                                                             +data.data[i].productName+"</a></td><td>"
                                                             +data.data[i].productPrice+"</td></tr>"


                                          );


                     }



                    }

                     },
                     error: function () {

                         console.log("error")
                     }
                 })
             })


    }
}




</script>
</body>
</html>
